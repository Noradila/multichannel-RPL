\section{Introduction}
\label{sec:introduction}
%add intro - comment and why it is an important topic
Wireless Sensor Network (WSN) is an ad-hoc network that consists of sensor nodes that typically use low power radios such as IEEE 802.15.4, a relatively short range transmission standard radio technology in the 2.4Ghz band. The standard allows transmission to occur on several different channels within this band. Unfortunately, the channels used by this technology often suffer interference, for example, from WiFi and Bluetooth. Sensor networks have to contend with an increasing number of devices that cause these wireless interference. Organising the network topology around this interference becomes an enabler for increasing transmission efficiency at a smaller energy cost. %WSNs need to be able to operate reliably in the presence of such interference. 

%that have limited processing capabilities and short battery life. These constraints are crucial in sensors as 

%challenges and solution
%Sensor networks have to contend with an increasing number of devices that cause wireless interference. Organising the network topology around this interference becomes an enabler for increasing transmission efficiency at a smaller energy cost. Wireless Sensor Networks (WSN) typically use low power radios such as IEEE 802.15.4, a relatively short range transmission standard radio technology in the 2.4Ghz band. The standard allows transmission to occur on several different channels within this band.  Unfortunately, the channels used by this technology often suffer interference, for example, from WiFi and Bluetooth. WSNs need to be able to operate reliably in the presence of such interference.  

%highlight of existing solutions and limitation (remove details!)
Multichannel communication in wireless networks can alleviate the effects of interference which, as a result, can improve the network efficiency and stability, link reliability and minimise latency. It also enables communication between physically proximate nodes to occur simultaneously without the risk of collision if the communicating nodes use different channels. However, not all channels are free from interference; thus, there is a need to hop to another channel when the quality of the channel deteriorates. Two commonly used types of channel hopping \cite{watteyne} are blind channel hopping and whitelisting. In blind channel hopping, nodes choose from all available channels. Whitelisting on the other hand, filters out those channels that may have bad interference properties. Many studies make use of channel whitelisting such as in \cite{watteyne}, \cite{wu}, Chrysso \cite{chrysso} and MiCMAC \cite{micmac}. However, they used different channels with channel 26 in common in their respective experiments. 
%Many studies make use of channel whitelisting such as \cite{watteyne} which claimed that channels 11, 15, 25 and 26 are free from Wi-Fi \cite{wu}. Chrysso \cite{chrysso} uses channel 11, 14, 20, 22 and 26, and MiCMAC \cite{micmac} uses channel 15, 20, 25 and 26 in their respective experiments. 
It is notable that these protocols can use all available channels without whitelisting. However, they do not have a mechanism to check the channel condition before using it for packet transmission. %In \cite{micmac}, MiCMAC sees its performance degraded when using more than 4 channels, thus the decision on specifying 4 channels to be included in their experiment. 
MiCMAC uses different wakeup channel each time it wakes up, thus, it sends packet on different channel each time. However, it might try to send on bad channels for a while before it finds a good channel to deliver the packet. Chrysso on the other hand, switches the affected nodes to a new set of channels upon detecting interference. It would require frequent channel switching if all channels are to be considered.

It is clear that it is impossible to find a single channel guaranteed free from interference and there is no consensus on the best channel to use. Our work takes into account all available channels to utilise the spectrum and checks the condition of the channels before hopping to avoid those channels with interference. Several previous studies have developed a multichannel MAC layer but, despite the potential benefits none are yet widely implemented in real world deployments. The usual focus is on MAC layers that operate in an autonomous fashion. 

This paper focuses on a Multichannel Cross-Layer Routing Protocol (MCRP) which allows a centralised intelligence to make and communicate decisions about channels and this decision is implemented by the MAC layer. MCRP provides feedback when a channel is subject to interference using a probing phase. This protocol is tested using a two-hop colouring protocol to reduce interference between physically proximate nodes trying to communicate on the same channel. The system is failed safe in the sense that the WSN functions if the central system which assigns channels fails temporarily or permanently.

We implement MCRP in Contiki and evaluate the protocol in Cooja simulated environment and in 26-nodes testbed FlockLab \cite{flocklab}. We demonstrate that MCRP avoids channels with interference which greatly reduces the effects of interference on the network.

%which allows a centralised intelligence to determine which channels each node. The protocol also introduces a probing phase that checks whether assigned channels are free of interference. This protocol is tested using a two-hop colouring protocol to reduce interference between physically proximate nodes trying to communicate on the same channel. The system is failed safe in the sense that the WSN functions if the central system which assigns channels fails temporarily or permanently.

%This paper focuses instead on a cross-layer multi-channel model where a centralised controller can make and communicate decisions about channels and this decision is implemented by the MAC layer. Our Multichannel Cross-Layer Routing Protocol (MCRP) provides feedback when a channel is subject to interference using a probing phase.

%The nodes are given different channels by a centralised controller behind the Low Power Border Router (LPBR). This means that the mechanism for assigning nodes to channels can be aware of the entire topology and can use more advanced algorithms to choose which channels are assigned to which nodes. Nodes are given a listening channel and their neighbours must send to them on that channel. In other words, a node listens on a single channel but sends on many channels. This enables communication between several sender-intermediate nodes towards the LPBR to occur simultaneously in a collision free manner.

%how the proposed work and their limitation - our contribution
%The IETF standard IPv6 Routing Protocol for Low-Power and Lossy Networks (RPL) is a routing protocol for WSN that allows nodes to self-organise a communicating network of neighbouring nodes. 

%In this paper, we develop a cross-layer multi-channel protocol which allows a centralised intelligence to determine which channels each node. The protocol also introduces a probing phase that checks whether assigned channels are free of interference. This protocol is tested using a two-hop colouring protocol to reduce interference between physically proximate nodes trying to communicate on the same channel. The system is failed safe in the sense that the WSN functions if the central system which assigns channels fails temporarily or permanently.

%The nodes run on IPv6 and use RPL as the routing protocol; to demonstrate that MCRP channel changes do not intervene with RPL protocol and the network is fully functional during our protocol's channel changes.



%The IETF standard IPv6 Routing Protocol for Low-Power and Lossy Networks (RPL) is a routing protocol for WSN that allows nodes to self-organise a communicating network of neighbouring nodes. In this paper, we develop a cross-layer multi-channel protocol which allows a centralised intelligence to determine which channels each node should listen on and ensures that their neighbours send on the correct channel. The protocol also introduces a probing phase that checks whether assigned channels are free of interference. This protocol is tested using a two-hop colouring protocol that ensures nodes located within two hops of each other in the network are listening on different channels (that should reduce interference between physically proximate nodes trying to communicate on the same channel).  The system is failed safe in the sense that the WSN functions if the central system which assigns channels fails temporarily or permanently.

%The control messages are sent to the nodes on their usual listening channel as a unicast which eliminates the need for a separate control channel. The changes of channel occur after the RPL topology set up phase. We show that this allows the network to avoid channels with interference and we demonstrate in simulation that this greatly reduces the effects of interference. While our protocol has an overhead in terms of packets sent and in terms of set up time, the number of packets sent is still low overall and during the multi-channel set up phase the system is still capable of sending traffic, thus the network is still fully functional after RPL set up and during our protocol's channel changes.

The rest of the paper is organised as follows: Section \ref{sec:relatedwork} presents related work to multichannel protocols. Section \ref{sec:multichannel} describes the key idea of our proposed protocol and the high-level design and the implementation of the protocol in Contiki. We describe and evaluate the experimental results in Section \ref{sec:evaluation}. Finally, we conclude in Section \ref{sec:conclusion}.
