\section{Related Work}
\label{sec:relatedwork}
Radio duty cycling mechanisms can be classified into two categories; synchronous and asynchronous systems. A synchronous system is a system that requires a tight time synchronisation between the nodes. It uses time-scheduled communication where the network clock needs to be periodically synchronised in order for the nodes not to drift in time. Asynchronous systems on the other hand, do not require synchronisation but instead is a sender or receiver initiated communication. In asynchronous systems the nodes are able to self-configure without time synchronisation and this can have advantages. There are many studies done in multichannel for both categories. Multichannel synchronous protocols include MC-LMAC \cite{mc-lmac}, Y-MAC \cite{y-mac}, and TSCH \cite{tsch}. Multichannel asynchronous protocols such as EM-MAC \cite{emmac}, MuChMAC \cite{muchmac}, Chrysso \cite{chrysso}, MiCMAC \cite{micmac} and our protocol are independent of time slot and synchronisation. 

ContikiMAC \cite{contikimac} radio duty cycling mechanism is the default radio duty cycling protocol in Contiki that is responsible for the node wake-ups period. ContikiMAC is a power-saving radio duty cycling protocol. It was proved to be efficient in a single channel \cite{micmac,orpl}. %ContikiMAC uses periodical wake-ups to listen to the neighbours’ transmission packet. It has a phase-lock mechanism to learn the neighbours’ wake-up phase to enable efficient transmissions and a fast sleep optimisation in case of spurious radio interference. The sender uses the knowledge of the wake-up phase of the receiver to optimise its transmission. When a packet is successfully received, the receiver sends a link layer acknowledgement. The sender repeatedly sends its packet until it receives a link layer acknowledgement from the receiver. ContikiMAC relies on retransmissions for reliable transmissions. A Carrier Sense Multiple Access, CSMA is a MAC protocol that performs retransmissions when the underlying MAC layer has problems with collisions. When the sender does not receive the link layer acknowledgement, ContikiMAC with CSMA will retransmit the packets three times before dropping it from the buffer queue.

MiCMAC \cite{micmac} is a ContikiMAC \cite{contikimac} channel hopping variant. On every wakeup cycle, the channel is periodically switched according to a pseudo-random sequence. %MiCMAC introduces channel lock for the channel reception at the sender. There is a dedicated broadcast channel for a duration at every wake up period. 
Chrysso \cite{chrysso} is a multichannel protocol for data collection applications. The nodes are organised into parent-children groups where each parent-children uses two channels for transmitting and receiving packets. Our work also uses two separate channels as in Chrysso. Both parent and children nodes can hop to another channel when interference is detected based on the channel switching policies. %If a node loses connectivity, Chrysso calls the scan mode to enable neighbour discovery over multiple channels. 
Chrysso functionality comprises a set of channel switching policies that interface to both the MAC layer and the network layer.

MiCMAC and Chrysso are fully distributed and allow the nodes to self configure and change to another channel when interference happens. The channels that the protocols can use are fixed to a subset of whitelisted channels throughout their experiments. This contrasts with our protocol where we are able to produce real time channel selection decisions where we consider all available channels to be used in transmissions without blacklisting any of them. 


%the control decisions as to channel assignment happen behind the Low Power Border Router (LPBR). The LPBR, which is the point where a WSN connects to other networks, is fully powered and does not have the limited memory of low power nodes. In standard RPL this point in the system also has knowledge of the network topology that can be used in the decision making process. We are able to produce real time channel selection decisions where we can consider all available channels to be used in transmissions without blacklisting any of them.  

In order to maximise the use of multichannel in improving packet delivery, routing topology plays a big role in providing an optimised routing tree to the network that is scalable and energy efficient. There are many studies that were done on routing protocol such as LEACH \cite{leach}, PEGASIS \cite{pegasis}, CTP \cite{ctp}, and RPL. Recent multichannel protocols such as MiCMAC is compatible with RPL as the routing protocol. Chrysso uses Contiki collect which is a CTP-like data collection protocol in Contiki. We choose to use RPL as it is the standard for IPv6 routing in low power and lossy networks. 

%routing in RPL
RPL \cite{winter2012rpl} is a gradient based routing protocol forming any-to-any routing for low power IPv6 networks. RPL topology is a Destination-Oriented Directed Acyclic Graph (DODAG), rooted at LPBR with no cycles. The topology is set up based on the routing metric \cite{routingmetrics} such as hop count and expected transmission count (ETX) metrics to calculate the distance of the nodes to the LPBR. The root has the overall view of the network. The other nodes however, only have knowledge of its neighbours and default router which is the parent. RPL is a rooted topology which any-to-any traffic is directed towards the root unless the common ancestor is found which the traffic is then routed downwards towards the destination. This strategy is used in order to scale large networks by reducing the routing overhead at the cost of increased hop count through common ancestor. %In RPL terminology, the node distance to the root and other nodes is defined as the node's rank. 
By default, RPL uses ETX metric to find the path with the minimum number of transmissions that a node expect to successfully deliver a packet to the destination and switches only if it is less than the current rank to prevent frequent changes \cite{mrhof}. 



%Our proposed protocol takes into account RPL topology formation scheme and the control messages exchange between nodes that take place periodically to maintain the quality of the tree. We enable the RPL control messages to be sent through both unicast (for known neighbours) and broadcast only on the default channel (for new nodes to join) in order to reduce unnecessary transmitting through all channels. 

%Our work makes use of RPL topology formation and improves on the channels of the nodes in the topology. Our protocol is a cross-layer protocol with a centralised co-ordinator that enables us to make real time decisions without being constraint by the layer capabilities. Our centralised LPBR has the intelligence in choosing the channel for the node as it has the full overview of the network. We also do not blacklist any channel as we do channel checking each time a channel change occur in order to have the update on the channel condition.
